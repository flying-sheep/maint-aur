# Maintainer:  Kyle Meyer <kyle@kyleam.com>

pkgname=python-brewer2mpl
## To build the python 2 version
# pkgname=python2-brewer2mpl
## To build the python 2 and python 3 version
# pkgname=('python-brewer2mpl' 'python2-brewer2mpl')
_pkgname=${pkgname/python-/}
pkgver=1.3.2
pkgrel=1
pkgdesc='Connect colorbrewer2.org color maps to Python and matplotlib'
arch=('any')
url='https://github.com/jiffyclub/brewer2mpl/wiki'
license=('MIT')
source=("https://pypi.python.org/packages/source/b/brewer2mpl/brewer2mpl-$pkgver.tar.gz")
md5sums=('7d4df4329f3022c003fa1c045619e321')

build() {
  cd "$srcdir"
  rm -rf python{2,}-build
  for builddir in python{2,}-build; do
    cp -r $_pkgname-$pkgver $builddir
    pushd $builddir
    ${builddir%-build} setup.py build
    popd
  done
}

package_python-brewer2mpl() {
  depends=('python' 'python-matplotlib')
  cd "$srcdir/python-build"
  python setup.py install --skip-build -O1 --root="$pkgdir"
}

package_python2-brewer2mpl() {
  depends=('python2' 'python2-matplotlib')
  cd "$srcdir/python2-build"
  python2 setup.py install --skip-build -O1 --root="$pkgdir"
}
